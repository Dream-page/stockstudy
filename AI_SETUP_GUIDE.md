# 🤖 AI 투자 매니저 설정 가이드

Google Gemini AI를 활용한 투자 분석 기능을 사용하기 위한 설정 가이드입니다.

## 📋 사전 준비

### 1. Google Gemini API 키 발급

1. [Google AI Studio](https://aistudio.google.com/app/apikey)에 접속합니다
2. Google 계정으로 로그인합니다
3. **"Create API Key"** 버튼을 클릭합니다
4. API 키를 복사합니다 (절대 공개하지 마세요!)

### 2. 환경 변수 설정

프로젝트 루트 디렉토리에 `.env` 파일을 생성하고 다음 내용을 입력합니다:

```bash
# .env 파일
VITE_GEMINI_API_KEY=여기에_발급받은_API_키를_붙여넣으세요
```

**예시:**
```bash
VITE_GEMINI_API_KEY=AIzaSyBxXXXXXXXXXXXXXXXXXXXXXXXXXX
```

⚠️ **중요:** `.env` 파일은 절대 Git에 커밋하지 마세요! 이미 `.gitignore`에 포함되어 있습니다.

## 🚀 사용 방법

### 1. 앱 재시작

환경 변수를 설정한 후, 개발 서버를 재시작합니다:

```bash
# 기존 서버 종료 (Ctrl+C)
# 서버 재시작
npm run dev
```

### 2. AI 분석 실행

1. **학습(Study)** 탭으로 이동합니다
2. 리포트가 로드되어 있는지 확인합니다
3. 포트폴리오에 종목이 추가되어 있는지 확인합니다
4. **✨ AI 분석** 버튼을 클릭합니다
5. AI가 분석하는 동안 잠시 기다립니다 (10-30초)
6. 분석 결과를 확인합니다!

## 📊 AI 분석 내용

AI는 다음 정보를 종합적으로 분석합니다:

1. **내 포트폴리오 데이터**
   - 보유 종목명 및 티커
   - 수량 및 평단가
   - 현재가 및 수익률
   - 국가 (국내/미국)

2. **오늘의 증권사 리포트**
   - 최대 30개의 리포트 제목
   - 증권사별 시장 전망

3. **거시경제 지표**
   - 설정된 경제 지표 (있는 경우)

### AI가 제공하는 인사이트

```markdown
### 🔑 오늘 시장의 핵심 키워드
- 3가지 핵심 키워드와 설명

### 💼 내 포트폴리오 영향 분석
- 보유 종목에 미치는 영향 (긍정/부정)

### 🎯 오늘의 투자 전략
- 매수/매도/관망 추천
- 구체적인 행동 방안

### 💡 추가 조언
- 리스크 관리
- 장기 투자 관점
```

## ⚠️ 주의사항

### API 사용량 제한

- **무료 티어**: 분당 15회 요청 제한
- 분석 한 번당 약 1-2회 요청 사용
- 과도한 사용 시 제한될 수 있습니다

### 분석 결과의 한계

1. **참고 자료일 뿐입니다**
   - AI 분석은 투자 조언이 아닙니다
   - 실제 투자 결정은 본인의 판단으로 하세요

2. **실시간 데이터 아님**
   - 구글 시트에서 가져온 데이터 기준
   - 실시간 주가가 아닐 수 있습니다

3. **오류 가능성**
   - AI가 잘못 해석할 수 있습니다
   - 여러 정보원을 참고하세요

## 🔧 문제 해결

### "API_KEY가 설정되지 않았습니다" 오류

```bash
# .env 파일이 제대로 생성되었는지 확인
cat .env

# 환경 변수 이름이 정확한지 확인
# VITE_GEMINI_API_KEY (O)
# GEMINI_API_KEY (X)
```

### "분석 중 오류가 발생했습니다" 오류

1. API 키가 유효한지 확인
2. 인터넷 연결 확인
3. API 사용량 제한 확인
4. 브라우저 콘솔에서 상세 오류 확인

### 버튼이 비활성화되어 있음

다음을 확인하세요:
- ✅ 리포트가 로드되어 있나요?
- ✅ 포트폴리오에 종목이 있나요?

## 📚 추가 정보

- [Google Gemini API 문서](https://ai.google.dev/docs)
- [API 가격 정책](https://ai.google.dev/pricing)
- [모델 정보 (gemini-2.0-flash)](https://ai.google.dev/models/gemini)

## 💰 비용

- **Gemini 2.0 Flash** 모델 사용 (2025년 최신 모델)
- 무료 티어: 분당 15회 요청, 일일 1,500회 요청 제한
- 일반적인 분석 1회: 약 1,000-2,000 토큰
- **일일 최대 1,500회 무료 분석 가능**

### ⚠️ 할당량 초과 시

만약 "Quota exceeded" 또는 "429" 오류가 발생하면:
- 잠시 기다렸다가 다시 시도하세요 (1-2분 후)
- 하루 1,500회 제한을 확인하세요
- 분당 15회 제한을 초과하지 않도록 주의하세요
- [Google AI Studio](https://aistudio.google.com)에서 사용량을 모니터링할 수 있습니다

---

궁금한 점이 있으면 개발자에게 문의하세요! 🚀
